

# AttributeValueUpdate

<p>For the <code>UpdateItem</code> operation, represents the attributes to be modified, the action to perform on each, and the new value for each.</p> <note> <p>You cannot use <code>UpdateItem</code> to update any primary key attributes. Instead, you will need to delete the item, and then use <code>PutItem</code> to create a new item with new attributes.</p> </note> <p>Attribute values cannot be null; string and binary type attributes must have lengths greater than zero; and set type attributes must not be empty. Requests with empty values will be rejected with a <code>ValidationException</code> exception.</p>

## Properties

| Name | Type | Description | Notes |
|------------ | ------------- | ------------- | -------------|
|**value** | [**AttributeValue**](AttributeValue.md) | &lt;p&gt;Represents the data for an attribute.&lt;/p&gt; &lt;p&gt;Each attribute value is described as a name-value pair. The name is the data type, and the value is the data itself.&lt;/p&gt; &lt;p&gt;For more information, see &lt;a href&#x3D;\&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.NamingRulesDataTypes.html#HowItWorks.DataTypes\&quot;&gt;Data Types&lt;/a&gt; in the &lt;i&gt;Amazon DynamoDB Developer Guide&lt;/i&gt;. &lt;/p&gt; |  [optional] |
|**action** | **AttributeAction** | &lt;p&gt;Specifies how to perform the update. Valid values are &lt;code&gt;PUT&lt;/code&gt; (default), &lt;code&gt;DELETE&lt;/code&gt;, and &lt;code&gt;ADD&lt;/code&gt;. The behavior depends on whether the specified primary key already exists in the table.&lt;/p&gt; &lt;p&gt; &lt;b&gt;If an item with the specified &lt;i&gt;Key&lt;/i&gt; is found in the table:&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;code&gt;PUT&lt;/code&gt; - Adds the specified attribute to the item. If the attribute already exists, it is replaced by the new value. &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;code&gt;DELETE&lt;/code&gt; - If no value is specified, the attribute and its value are removed from the item. The data type of the specified value must match the existing value&#39;s data type.&lt;/p&gt; &lt;p&gt;If a &lt;i&gt;set&lt;/i&gt; of values is specified, then those values are subtracted from the old set. For example, if the attribute value was the set &lt;code&gt;[a,b,c]&lt;/code&gt; and the &lt;code&gt;DELETE&lt;/code&gt; action specified &lt;code&gt;[a,c]&lt;/code&gt;, then the final attribute value would be &lt;code&gt;[b]&lt;/code&gt;. Specifying an empty set is an error.&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;code&gt;ADD&lt;/code&gt; - If the attribute does not already exist, then the attribute and its values are added to the item. If the attribute does exist, then the behavior of &lt;code&gt;ADD&lt;/code&gt; depends on the data type of the attribute:&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt;If the existing attribute is a number, and if &lt;code&gt;Value&lt;/code&gt; is also a number, then the &lt;code&gt;Value&lt;/code&gt; is mathematically added to the existing attribute. If &lt;code&gt;Value&lt;/code&gt; is a negative number, then it is subtracted from the existing attribute.&lt;/p&gt; &lt;note&gt; &lt;p&gt; If you use &lt;code&gt;ADD&lt;/code&gt; to increment or decrement a number value for an item that doesn&#39;t exist before the update, DynamoDB uses 0 as the initial value.&lt;/p&gt; &lt;p&gt;In addition, if you use &lt;code&gt;ADD&lt;/code&gt; to update an existing item, and intend to increment or decrement an attribute value which does not yet exist, DynamoDB uses &lt;code&gt;0&lt;/code&gt; as the initial value. For example, suppose that the item you want to update does not yet have an attribute named &lt;i&gt;itemcount&lt;/i&gt;, but you decide to &lt;code&gt;ADD&lt;/code&gt; the number &lt;code&gt;3&lt;/code&gt; to this attribute anyway, even though it currently does not exist. DynamoDB will create the &lt;i&gt;itemcount&lt;/i&gt; attribute, set its initial value to &lt;code&gt;0&lt;/code&gt;, and finally add &lt;code&gt;3&lt;/code&gt; to it. The result will be a new &lt;i&gt;itemcount&lt;/i&gt; attribute in the item, with a value of &lt;code&gt;3&lt;/code&gt;.&lt;/p&gt; &lt;/note&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;If the existing data type is a set, and if the &lt;code&gt;Value&lt;/code&gt; is also a set, then the &lt;code&gt;Value&lt;/code&gt; is added to the existing set. (This is a &lt;i&gt;set&lt;/i&gt; operation, not mathematical addition.) For example, if the attribute value was the set &lt;code&gt;[1,2]&lt;/code&gt;, and the &lt;code&gt;ADD&lt;/code&gt; action specified &lt;code&gt;[3]&lt;/code&gt;, then the final attribute value would be &lt;code&gt;[1,2,3]&lt;/code&gt;. An error occurs if an Add action is specified for a set attribute and the attribute type specified does not match the existing set type. &lt;/p&gt; &lt;p&gt;Both sets must have the same primitive data type. For example, if the existing data type is a set of strings, the &lt;code&gt;Value&lt;/code&gt; must also be a set of strings. The same holds true for number sets and binary sets.&lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;p&gt;This action is only valid for an existing attribute whose data type is number or is a set. Do not use &lt;code&gt;ADD&lt;/code&gt; for any other data types.&lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;p&gt; &lt;b&gt;If no item with the specified &lt;i&gt;Key&lt;/i&gt; is found:&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;code&gt;PUT&lt;/code&gt; - DynamoDB creates a new item with the specified primary key, and then adds the attribute. &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;code&gt;DELETE&lt;/code&gt; - Nothing happens; there is no attribute to delete.&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;code&gt;ADD&lt;/code&gt; - DynamoDB creates a new item with the supplied primary key and number (or set) for the attribute value. The only data types allowed are number, number set, string set or binary set.&lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |  [optional] |



